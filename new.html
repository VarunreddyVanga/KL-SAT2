<html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>APRS API Example</title>
</head>
<body>
    <h1>APRS API Example</h1>
    <p id="location">Latitude: <span id="latitude"></span>, Longitude: <span id="longitude"></span></p>

    <script>
        // Function to fetch latitude and longitude from the proxy server
        async function fetchLocation() {
            const proxyURL = 'http://localhost:3000/api/location';

            try {
                // Fetch data from the proxy server
                const response = await fetch(proxyURL,{mode:'no-cors'});
                const data = await response.json();

                // Extract latitude and longitude from the API response
                const latitude = data.entries[0].lat;
                const longitude = data.entries[0].lng;

                // Display the results on the webpage
                document.getElementById('latitude').textContent = latitude;
                document.getElementById('longitude').textContent = longitude;
            } catch (error) {
                console.error('Error fetching data from proxy server:', error);
            }
        }

        // Call the fetchLocation function when the page loads
        window.onload = fetchLocation;
    </script>
</body>
</html>
